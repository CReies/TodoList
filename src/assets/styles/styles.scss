$primary-color: #2552ac;
$secondary-color: #769ff2;
$tertiary-color: #f1f4f6;
$border: solid 1px;
$border-transparent: transparent $border;
$border-light: #d3d3d3 $border;
$border-dark: #515151 $border;

@mixin shadowed($scale) {
	border: $border-transparent;
	box-shadow: calc($scale * 3px) calc($scale * 3px) calc($scale * 6px) #c5c5c5,
		calc($scale * -3px) calc($scale * -3px) calc($scale * 6px) #ffffff;
	&:active {
		box-shadow: inset calc($scale * 2px) calc($scale * 2px) 12px #c5c5c5,
			inset calc($scale * -2px) calc($scale * -2px) calc($scale * 6px) #fff;
		border: $border-dark;
	}

	&:hover {
		box-shadow: inset calc($scale * 1px) calc($scale * 1px) calc($scale * 3px)
				#c5c5c5,
			inset calc($scale * -1px) calc($scale * -1px) calc($scale * 3px) #fff;
	}
}

/* General styles */
body {
	font-family: 'Poppins', sans-serif;
	font-size: 1rem;
	line-height: 1.5;
}

h1,
h2 {
	font-family: 'Montserrat', sans-serif;
}

#root {
	width: 100%;
	height: 100%;
	min-height: 100vh;
	display: flex;
	flex-direction: column;
}

button {
	cursor: pointer;
}

/* Header Styles */
header {
	display: flex;
	align-items: center;
	background-color: $primary-color;
	color: $tertiary-color;
	justify-content: space-between;
	padding: 1.25em 0.5em;

	.content {
		display: flex;
		flex: 2;
		justify-content: space-between;
	}

	.margin {
		display: none;
	}

	button {
		display: initial;
		background-color: transparent;
		border: none;
		color: $tertiary-color;
		font-size: 1.7em;
		margin: 0 0.25em;
	}

	.input-group {
		display: flex;
		position: relative;
		align-items: center;
		justify-content: center;

		input {
			height: 2em;
			line-height: 1.75em;
			padding: 0 1em;
			padding-left: 2.5em;
			border: transparent $border;
			border-radius: 0.2em;
			outline: none;
			width: 100%;
			background-color: #8baffb;
			color: #0d0c22;
			transition: 0.3s ease;

			&::placeholder {
				color: #291cca;
			}

			&:focus,
			&:hover {
				background-color: $tertiary-color;
				outline: none;
				border-color: #ea4c8966;
				box-shadow: 0 0 0 4px #ea4c891a;
				&::placeholder {
					color: #000;
				}
			}
		}

		svg {
			position: absolute;
			left: 1em;
			color: $primary-color;
			width: 1em;
			height: 1em;
		}
	}
}

/******************************************************/

main {
	display: flex;
	flex: 1;
	flex-direction: column;
}

footer {
	background-color: #fff;
	display: flex;
	justify-content: space-evenly;
	align-items: center;
	padding: 0 1.25em;
	border-top: $border-light;
}

/**************************************************/

/* Main Content */
section.content {
	display: flex;
	flex: 2;
	padding: 2.5em;
	flex-direction: column;
	background-color: #fff;

	.tasks {
		list-style: none;
	}
}

/* Modal */
.modal-overlay {
	width: 100%;
	min-height: 100vh;
	position: fixed;
	top: 0;
	left: 0;
	display: flex;
	z-index: 1000;
	background-color: #0000003f;
	justify-content: center;
	align-items: center;

	.modal {
		background-color: $tertiary-color;
		width: 80%;
		box-shadow: 0 15px 50px #00000060;
		display: flex;
		padding: 1.8em 1.8em 6em;
		flex-direction: column;
		color: #000;

		.modal-header {
			display: flex;
			justify-content: space-between;
			border-bottom: $border-light;
			margin-bottom: 3em;

			.modal-title {
				width: 80%;
				max-width: 17em;
			}

			.modal-close {
				background-color: inherit;
				border: none;
			}
		}
	}
}

/********************************************/

/* Tabs */
.tabs {
	display: flex;
	font-size: 1.2em;
	font-family: 'Montserrat', sans-serif;
	justify-content: space-between;
	span {
		border: $border-light;
		padding: 0.5em 1em;
		border-radius: 5px 5px 0 0;
		color: #6e6e6e;
		&.active {
			color: #000;
			background-color: $secondary-color;
		}
	}
}

/* Create Task Form */
form {
	display: flex;
	flex-direction: column;
	width: 100%;

	.form-group {
		position: relative;
		margin: 1.25em 0;

		label {
			position: absolute;
			pointer-events: none;
			left: 0.3em;
			top: -1.25em;
			font-size: 0.9rem;
			color: $secondary-color;
		}

		.bar {
			position: relative;
			display: block;
			width: 100%;

			&::before {
				left: 50%;
			}

			&::after {
				right: 50%;
			}

			&::before,
			&::after {
				content: '';
				height: 2px;
				width: 0;
				bottom: 1px;
				position: absolute;
				background: $secondary-color;
				transition: 0.2s ease all;
				-moz-transition: 0.2s ease all;
				-webkit-transition: 0.2s ease all;
			}
		}

		textarea {
			resize: vertical;
			max-height: 18.75em;
		}

		input:not([type='color']),
		textarea,
		select {
			font-size: 1rem;
			padding: 0.6em 0.6em 0.6em 0.3em;
			display: block;
			width: 100%;
			border: none;
			border-bottom: $border-dark;
			background: transparent;
			box-sizing: border-box;

			&:focus {
				outline: none;
			}

			&:focus ~ .bar::before,
			&:focus ~ .bar::after {
				width: 50%;
			}
		}
	}

	button.btn {
		color: #000;
		padding: 0.7em 1.7em;
		font-size: 1.2rem;
		border-radius: 0.5em;
		background: $tertiary-color;
		width: fit-content;
		align-self: flex-end;
		border: transparent $border;
		@include shadowed(2);
	}
}

/***********************************************************************************/

/* Category Input */
datalist#categories {
	overflow-y: auto;
	max-height: 10rem;
	position: absolute;
	width: 100%;

	option {
		background-color: transparent;
		cursor: pointer;
		border-bottom: $border-dark;
	}
}
/********************************************/

/* Task List */
.tasks {
	width: 100%;
	max-width: 48em;
	margin: 0 auto;
	li.task {
		border-bottom: $border-light;
		margin-bottom: 1.25em;
		padding: 0.6em;
		display: flex;
		flex-direction: row;
		align-items: center;

		&.completed {
			text-decoration: line-through;
		}

		.complete-task,
		.delete-task {
			display: flex;
			align-items: center;
			width: 1.9em;
		}

		.delete-task {
			background-color: transparent;
			border: none;
			color: #ee1414;
		}

		.task-content {
			flex-direction: column;
			width: 100%;
			.title {
				margin: 0.2em 0;
			}

			.description {
				margin: 0;
				font-size: 0.75rem;
				color: #515151;
			}
		}
	}
}

/*****************************************/

/* Aside styles */

aside {
	display: flex;
	background-color: $tertiary-color;
	padding: 0 1.25em;
	color: #000;
	justify-content: center;

	h2 {
		display: none;
	}

	.categories {
		display: flex;
		overflow-x: auto;
		width: 100vw;
		white-space: nowrap;
		flex-direction: row;

		.category {
			display: flex;
			align-items: center;
			cursor: pointer;
			border-radius: 0.3em;
			padding: 0.6em 1em;
			margin: 1.5em 0.5em;
			flex: 0 0 150px;

			.content {
				text-overflow: ellipsis;
				overflow: hidden;
				white-space: nowrap;
			}
			.color {
				width: 1em;
				height: 1em;
				margin-right: 0.5em;
			}

			@include shadowed(1);
		}
	}
}

/* Extra small devices (phones, 600px and down) */
@media only screen and (max-width: 37.5em) {
}

/* Small devices (portrait tablets and large phones, 600px and up) */
@media only screen and (min-width: 37.5em) {
	header {
		padding: 1.25em 0.5em;

		.margin {
			display: flex;
			flex: 0.5;
			min-width: 10.5em;
			padding: 1.25em;
		}

		.content {
			display: flex;
			flex: 2;
			justify-content: space-between;
		}

		button {
			display: initial;
			background-color: transparent;
			border: none;
			color: $tertiary-color;
			font-size: 1.7em;
		}

		.input-group:focus-within {
			width: 80%;
		}
	}

	aside {
		flex: 1;
		min-width: 10.5em;
		flex-direction: column;
		justify-content: unset;

		.categories {
			flex-direction: column;
			overflow-x: unset;
			width: unset;
			.category {
				padding: 0.6em 1.6em;
				flex: auto;
			}
		}

		h2 {
			display: unset;
		}
	}

	main {
		flex-direction: row;
		.modal-overlay .modal {
			max-width: 70%;
			width: unset;
			min-width: 40%;
		}
	}
}

/* Medium devices (landscape tablets, 768px and up) */
@media only screen and (min-width: 48em) {
}

/* Large devices (laptops/desktops, 992px and up) */
@media only screen and (min-width: 62em) {
	aside {
		flex: 0.5;
	}
}

/* Extra large devices (large laptops and desktops, 1200px and up) */
@media only screen and (min-width: 75em) {
}
